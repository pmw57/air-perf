<html>
<head>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
<form class="actions">
    <p><label for="file-load" class="input-label">Load:
        <input type="file" accept=".csv" id="file-load" class="js-loadfile" value="Load file">
    </label>
    <label for="file-save" class="input-label">Save:
        <input type="text" id="file-save" class="js-savefile">
    </label>
    <button class="js-saveButton" ref="#input">Save</button></p>
</form>
<div id="content">
    <div id="perf">
        <h3>Input parameters</h3>
        <form id="input">
            <p><label for="name">Aircraft name </label>
                <input id="name" name="name" value="Thorp T-18"></p>
            <p><label for="vs1">Stall speed without flaps <span class="symbol">V<sub>s,1</sub></span> <span class="units">mph</span></label>
                <input type="number" id="vs1" name="vs1" value="67"></p>
            <p><label for="cl_max_clean">Maximum lift coefficient <span class="symbol">C<sub>L,max</sub></span> <span class="units"></span></label>
                <input type="number" step="0.1" id="cl_max_clean" name="cl_max_clean" value="1.53"></p>
            <p><label for="cl_max_flap">Maximum lift coeff with flaps <span class="symbol">C<sub>L,maxf</sub></span> <span class="units"></span></label>
                <input type="number" step="0.1" name="cl_max_flap" value="2.1"></p>
            <p><label for="gross_lb">Gross weight <span class="symbol">W</span> <span class="units">lb</span></label>
                <input type="number" step="20" id="gross_lb" name="gross_lb" value="1500"></p>
            <p><label for="useful_load_lb">Useful load <span class="symbol">W<sub>u</sub></span> <span class="units">lb</span></label>
                <input type="number" step="20" id="useful_load_lb" name="useful_load_lb" value="600"></p>
            <p><label for="wing_span_ft">Wing span <span class="symbol">b</span> <span class="units">ft</span></label>
                <input type="number" step="0.5" id="wing_span_ft" name="wing_span_ft" value="20.8333"></p>
            <p><label for="plane_efficiency">Airplane efficiency factor <span class="symbol">e</span> <span class="units"></span></label>
                <input type="number" step="0.025" id="plane_efficiency" name="plane_efficiency" value="0.744"></p>
            <p><label for="bhp">Engine brake horsepower <span class="symbol">BHP</span> <span class="units">hp</span></label>
                <input type="number" step="5" id="bhp" name="bhp" value="150"></p>
            <p><label for="vel_max_mph">Maximum level speed <span class="symbol">V<sub>max</sub></span> <span class="units">mph</span></label>
                <input type="number" step="5" id="vel_max_mph" name="vel_max_mph" value="180"></p>
            <p><label for="prop_dia_ft">Propeller diameter <span class="symbol">D<sub>p</sub></span> <span class="units">ft</span></label>
                <input type="number" step="0.25" id="prop_dia_ft" name="prop_dia_ft" value="6"></p>
            <p><label for="prop_max_rpm">Propeller RPM <span class="symbol">rpm</span> <span class="units"></span></label>
                <input type="number" step="100" id="prop_max_rpm" name="prop_max_rpm" value="2700"></p>
            <p><label for="altitude_ft">Altitude <span class="symbol">h</span> <span class="units">ft</span></label>
                <input type="number" step="500" id="altitude_ft" name="altitude_ft" value="0"></p>
        </form>
    </div>
    <div id="summary">
        <h3>Output parameters</h3>
        <table>
            <tr><th>Wing loading <span class="symbol">W/S</span> <span class="units">lb/ftÂ²</span></th><td id="wing_load_lb_ft"></td></tr>
            <tr><th>Stall speed with flaps <span class="symbol">V<sub>S,0</sub></span> <span class="units">mph</span></th><td id="vs0"></td></tr>
            <tr><th>Wing area <span class="symbol">S</span> <span class="units">ft</span></th><td id="wing_area_ft"></td></tr>
            <tr><th>Aspect ratio <span class="symbol">AR</span></th><td id="wing_aspect"></td></tr>
            <tr><th>Chord <span class="symbol">c</span> <span class="units">ft</span></th><td id="wing_chord_ft"></td></tr>
            <tr><th>Effective span <span class="symbol">b<sub>e</sub></span> <span class="units">ft</span></th><td id="wing_span_effective"></td></tr>
            <tr><th>Effective chord <span class="symbol">c<sub>e</sub></span> <span class="units">ft</span></th><td id="wing_chord_effective"></td></tr>
            <tr><th>Effective span loading <span class="symbol">W/b<sub>e</sub></span> <span class="units">lb/ft</span></th><td id="span_load_effective"></td></tr>
            <tr><th>Drag area <span class="symbol">A<sub>D</sub></span> <span class="units">ft</span></th><td id="drag_area_ft"></td></tr>
            <tr><th>Coefficient of drag <span class="symbol">C<sub>D</sub></span> </th><td id="zerolift_drag_coefficient"></td></tr>
            <tr><th>Minimum sink <span class="symbol">V<sub>minS</sub></span> <span class="units">mph</span></th><td id="vel_sink_min_ft"></td></tr>
            <tr><th>Minimum power <span class="symbol">THP<sub>min</sub></span> <span class="units">hp</span></th><td id="pwr_min_req_hp"></td></tr>
            <tr><th>Minimum rate of sink <span class="symbol">R<sub>S,min</span> <span class="units">ft/min</span></th><td id="rate_sink_min_ft"></td></tr>
            <tr><th>Maximum lift to drag ratio <span class="symbol"><span class="units">L/D</span><sub>max</sub></span></th><td id="ld_max"></td></tr>
            <tr><th>Minimum drag <span class="symbol">D<sub>min</sub></span> <span class="units">lb</span></th><td id="drag_min"></td></tr>
            <tr><th>Minimum sink coefficient <span class="symbol">C<sub>L,minS</sub></span></th><td id="cl_min_sink"></td></tr>
            <tr><th>Maximum ideal rate of climb <span class="symbol">R<sub>C&#x33D;,max</sub></span> <span class="units">ft/min</span></th><td id="rate_climb_ideal_max"></td></tr>
            <tr><th>Propeller tip mach <span class="symbol">M<sub>p</sub></span></th><td id="prop_tip_mach"></td></tr>
            <tr><th>Propeller velocity <span class="symbol">V<sub>prop</sub></span> <span class="units">mph</span></th><td id="prop_vel_ref"></td></tr>
            <tr><th>Ideal static thrust <span class="symbol">T<sub>s</sub></span> <span class="units">lb</span></th><td id="static_thrust_ideal"></td></tr>
        </table>
    </div>
    <div id="results">
        <h3>Performance</h3>
        <ul>
            <li>performance parameter <span class="symbol">F<sub>p</sub></span> <span class="units"></span> = <span id="fp"></span></li>
            <li>kinetic energy parameter <span class="symbol">WV<sub>max</sub><sup>2</sup></span> <span class="units">lb mph<sup>2</sup></span> = <span id="wv2"></class></li>
            <li>maximum rate of climb <span class="symbol">R<sub>C,max</sub></span> <span class="units">fpm</span> = <span id="rcmax"></class></li>
            <li>best rate of climb velocity <span class="symbol">V<sub>y</sub></span> <span class="units">mph</span> = <span id="vy"></class></li>
            <li>maximum speed <span class="symbol">v<sub>max</sub></span> <span class="units">mph</span> = <span id="vmax"></class></li>
            <li>useful load <span class="symbol">W<sub>u</sub></span> <span class="units">lb</span> = <span id="useful_load"></class></li>
        </ul>
        <table>
            <thead>
                <tr><th>airspeed</th><th>climb rate</th><th>prop eff</th><th>sink rate</th><th>reynolds num</th></tr>
                <tr><td>v(mph)</td><td>rc(fpm)</td><td>eta</td><td>rs(fpm)</td><td>re=rho*v*c/mu</td></tr>
            </thead>
            <tbody>
            </tbody>
        </table>
    </div>
</div>
<script src="src/csv-spike.js"></script>
<script src="dist/air-perf.js"></script>
<script>
airperf.init(document, {
    // outputs
    "wing_load_lb_ft": 2,
    "vs0": 2,
    "wing_area_ft": 2,
    "wing_aspect": 2,
    "wing_chord_ft": 2,
    "wing_span_effective": 2,
    "wing_chord_effective": 2,
    "span_load_effective": 2,
    "drag_area_ft": 2,
    "zerolift_drag_coefficient": 4,
    "vel_sink_min_ft": 1,
    "pwr_min_req_hp": 2,
    "rate_sink_min_ft": 1,
    "ld_max": 2,
    "drag_min": 2,
    "cl_min_sink": 2,
    "rate_climb_ideal": 0,
    "prop_tip_mach": 2,
    "prop_vel_ref": 2,
    "static_thrust_ideal": 2,
    // results
    "v": 1,
    "rc": 1,
    "vy": 1,
    "eta": 2,
    "rs": 1,
    "rec": 0,
    "fp": 4,
    "wv2": 0,
    "rcmax": 2,
    "vmax": 2,
    "useful_load": 2
});
altitude_ft.dispatchEvent(new Event("change"));
</script>
</body>
</html>